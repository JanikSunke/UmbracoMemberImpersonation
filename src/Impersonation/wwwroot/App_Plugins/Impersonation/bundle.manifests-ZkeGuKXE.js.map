{"version":3,"file":"bundle.manifests-ZkeGuKXE.js","sources":["../../../Client/src/entrypoints/manifest.ts","../../../Client/src/modals/manifest.ts","../../../Client/src/modals/modal-token.ts","../../../Client/node_modules/@hey-api/client-fetch/dist/index.js","../../../Client/src/api/client.gen.ts","../../../Client/src/entityactions/member.entity.action.ts","../../../Client/src/Constants/member-section-condition.ts","../../../Client/src/entityactions/manifest.ts","../../../Client/src/context/root-context.ts","../../../Client/src/context/manifest.ts","../../../Client/src/bundle.manifests.ts"],"sourcesContent":["export const manifests: Array<UmbExtensionManifest> = [\n  {\n    name: \"Impersonation Entrypoint\",\n    alias: \"Impersonation.Entrypoint\",\n    type: \"backofficeEntryPoint\",\n    js: () => import(\"./entrypoint.js\"),\n  },\n];\n","const modals = [\n  {\n    type: 'modal',\n    alias: 'member.impersonation.modal',\n    name: 'Member custom modal',\n    js: () => import('./modal-element.js')\n  }\n];\n\nexport const manifests = [...modals];\n","import {UmbModalToken} from \"@umbraco-cms/backoffice/modal\";\n\nexport interface MemberImpersonationModalData {\n  headline: string;\n  content: string;\n}\n\nexport interface MemberImpersonationModalValue {\n  content: string,\n  page?: string\n}\n\nexport const MEMBER_IMPERSONATION_MODAL = new UmbModalToken<MemberImpersonationModalData, MemberImpersonationModalValue>(\n  \"member.impersonation.modal\",\n  {\n    modal: {\n      type: 'sidebar',\n      size: 'medium'\n    }\n  }\n);\n","var j=async(t,r)=>{let e=typeof r==\"function\"?await r(t):r;if(e)return t.scheme===\"bearer\"?`Bearer ${e}`:t.scheme===\"basic\"?`Basic ${btoa(e)}`:e},z=(t,r,e)=>{typeof e==\"string\"||e instanceof Blob?t.append(r,e):t.append(r,JSON.stringify(e));},I=(t,r,e)=>{typeof e==\"string\"?t.append(r,e):t.append(r,JSON.stringify(e));},k={bodySerializer:t=>{let r=new FormData;return Object.entries(t).forEach(([e,i])=>{i!=null&&(Array.isArray(i)?i.forEach(a=>z(r,e,a)):z(r,e,i));}),r}},R={bodySerializer:t=>JSON.stringify(t,(r,e)=>typeof e==\"bigint\"?e.toString():e)},$={bodySerializer:t=>{let r=new URLSearchParams;return Object.entries(t).forEach(([e,i])=>{i!=null&&(Array.isArray(i)?i.forEach(a=>I(r,e,a)):I(r,e,i));}),r.toString()}},U=t=>{switch(t){case \"label\":return \".\";case \"matrix\":return \";\";case \"simple\":return \",\";default:return \"&\"}},_=t=>{switch(t){case \"form\":return \",\";case \"pipeDelimited\":return \"|\";case \"spaceDelimited\":return \"%20\";default:return \",\"}},D=t=>{switch(t){case \"label\":return \".\";case \"matrix\":return \";\";case \"simple\":return \",\";default:return \"&\"}},O=({allowReserved:t,explode:r,name:e,style:i,value:a})=>{if(!r){let n=(t?a:a.map(l=>encodeURIComponent(l))).join(_(i));switch(i){case \"label\":return `.${n}`;case \"matrix\":return `;${e}=${n}`;case \"simple\":return n;default:return `${e}=${n}`}}let o=U(i),s=a.map(n=>i===\"label\"||i===\"simple\"?t?n:encodeURIComponent(n):y({allowReserved:t,name:e,value:n})).join(o);return i===\"label\"||i===\"matrix\"?o+s:s},y=({allowReserved:t,name:r,value:e})=>{if(e==null)return \"\";if(typeof e==\"object\")throw new Error(\"Deeply-nested arrays/objects aren\\u2019t supported. Provide your own `querySerializer()` to handle these.\");return `${r}=${t?e:encodeURIComponent(e)}`},q=({allowReserved:t,explode:r,name:e,style:i,value:a})=>{if(a instanceof Date)return `${e}=${a.toISOString()}`;if(i!==\"deepObject\"&&!r){let n=[];Object.entries(a).forEach(([f,p])=>{n=[...n,f,t?p:encodeURIComponent(p)];});let l=n.join(\",\");switch(i){case \"form\":return `${e}=${l}`;case \"label\":return `.${l}`;case \"matrix\":return `;${e}=${l}`;default:return l}}let o=D(i),s=Object.entries(a).map(([n,l])=>y({allowReserved:t,name:i===\"deepObject\"?`${e}[${n}]`:n,value:l})).join(o);return i===\"label\"||i===\"matrix\"?o+s:s};var H=/\\{[^{}]+\\}/g,B=({path:t,url:r})=>{let e=r,i=r.match(H);if(i)for(let a of i){let o=false,s=a.substring(1,a.length-1),n=\"simple\";s.endsWith(\"*\")&&(o=true,s=s.substring(0,s.length-1)),s.startsWith(\".\")?(s=s.substring(1),n=\"label\"):s.startsWith(\";\")&&(s=s.substring(1),n=\"matrix\");let l=t[s];if(l==null)continue;if(Array.isArray(l)){e=e.replace(a,O({explode:o,name:s,style:n,value:l}));continue}if(typeof l==\"object\"){e=e.replace(a,q({explode:o,name:s,style:n,value:l}));continue}if(n===\"matrix\"){e=e.replace(a,`;${y({name:s,value:l})}`);continue}let f=encodeURIComponent(n===\"label\"?`.${l}`:l);e=e.replace(a,f);}return e},A=({allowReserved:t,array:r,object:e}={})=>a=>{let o=[];if(a&&typeof a==\"object\")for(let s in a){let n=a[s];if(n!=null)if(Array.isArray(n)){let l=O({allowReserved:t,explode:true,name:s,style:\"form\",value:n,...r});l&&o.push(l);}else if(typeof n==\"object\"){let l=q({allowReserved:t,explode:true,name:s,style:\"deepObject\",value:n,...e});l&&o.push(l);}else {let l=y({allowReserved:t,name:s,value:n});l&&o.push(l);}}return o.join(\"&\")},P=t=>{if(!t)return \"stream\";let r=t.split(\";\")[0]?.trim();if(r){if(r.startsWith(\"application/json\")||r.endsWith(\"+json\"))return \"json\";if(r===\"multipart/form-data\")return \"formData\";if([\"application/\",\"audio/\",\"image/\",\"video/\"].some(e=>r.startsWith(e)))return \"blob\";if(r.startsWith(\"text/\"))return \"text\"}},E=async({security:t,...r})=>{for(let e of t){let i=await j(e,r.auth);if(!i)continue;let a=e.name??\"Authorization\";switch(e.in){case \"query\":r.query||(r.query={}),r.query[a]=i;break;case \"cookie\":r.headers.append(\"Cookie\",`${a}=${i}`);break;case \"header\":default:r.headers.set(a,i);break}return}},S=t=>W({baseUrl:t.baseUrl,path:t.path,query:t.query,querySerializer:typeof t.querySerializer==\"function\"?t.querySerializer:A(t.querySerializer),url:t.url}),W=({baseUrl:t,path:r,query:e,querySerializer:i,url:a})=>{let o=a.startsWith(\"/\")?a:`/${a}`,s=(t??\"\")+o;r&&(s=B({path:r,url:s}));let n=e?i(e):\"\";return n.startsWith(\"?\")&&(n=n.substring(1)),n&&(s+=`?${n}`),s},x=(t,r)=>{let e={...t,...r};return e.baseUrl?.endsWith(\"/\")&&(e.baseUrl=e.baseUrl.substring(0,e.baseUrl.length-1)),e.headers=C(t.headers,r.headers),e},C=(...t)=>{let r=new Headers;for(let e of t){if(!e||typeof e!=\"object\")continue;let i=e instanceof Headers?e.entries():Object.entries(e);for(let[a,o]of i)if(o===null)r.delete(a);else if(Array.isArray(o))for(let s of o)r.append(a,s);else o!==void 0&&r.set(a,typeof o==\"object\"?JSON.stringify(o):o);}return r},h=class{_fns;constructor(){this._fns=[];}clear(){this._fns=[];}getInterceptorIndex(r){return typeof r==\"number\"?this._fns[r]?r:-1:this._fns.indexOf(r)}exists(r){let e=this.getInterceptorIndex(r);return !!this._fns[e]}eject(r){let e=this.getInterceptorIndex(r);this._fns[e]&&(this._fns[e]=null);}update(r,e){let i=this.getInterceptorIndex(r);return this._fns[i]?(this._fns[i]=e,r):false}use(r){return this._fns=[...this._fns,r],this._fns.length-1}},v=()=>({error:new h,request:new h,response:new h}),N=A({allowReserved:false,array:{explode:true,style:\"form\"},object:{explode:true,style:\"deepObject\"}}),Q={\"Content-Type\":\"application/json\"},w=(t={})=>({...R,headers:Q,parseAs:\"auto\",querySerializer:N,...t});var J=(t={})=>{let r=x(w(),t),e=()=>({...r}),i=s=>(r=x(r,s),e()),a=v(),o=async s=>{let n={...r,...s,fetch:s.fetch??r.fetch??globalThis.fetch,headers:C(r.headers,s.headers)};n.security&&await E({...n,security:n.security}),n.body&&n.bodySerializer&&(n.body=n.bodySerializer(n.body)),(n.body===void 0||n.body===\"\")&&n.headers.delete(\"Content-Type\");let l=S(n),f={redirect:\"follow\",...n},p=new Request(l,f);for(let c of a.request._fns)c&&(p=await c(p,n));let T=n.fetch,u=await T(p);for(let c of a.response._fns)c&&(u=await c(u,p,n));let m={request:p,response:u};if(u.ok){if(u.status===204||u.headers.get(\"Content-Length\")===\"0\")return {data:{},...m};let c=(n.parseAs===\"auto\"?P(u.headers.get(\"Content-Type\")):n.parseAs)??\"json\";if(c===\"stream\")return {data:u.body,...m};let b=await u[c]();return c===\"json\"&&(n.responseValidator&&await n.responseValidator(b),n.responseTransformer&&(b=await n.responseTransformer(b))),{data:b,...m}}let g=await u.text();try{g=JSON.parse(g);}catch{}let d=g;for(let c of a.error._fns)c&&(d=await c(g,u,p,n));if(d=d||{},n.throwOnError)throw d;return {error:d,...m}};return {buildUrl:S,connect:s=>o({...s,method:\"CONNECT\"}),delete:s=>o({...s,method:\"DELETE\"}),get:s=>o({...s,method:\"GET\"}),getConfig:e,head:s=>o({...s,method:\"HEAD\"}),interceptors:a,options:s=>o({...s,method:\"OPTIONS\"}),patch:s=>o({...s,method:\"PATCH\"}),post:s=>o({...s,method:\"POST\"}),put:s=>o({...s,method:\"PUT\"}),request:o,setConfig:i,trace:s=>o({...s,method:\"TRACE\"})}};export{J as createClient,w as createConfig,k as formDataBodySerializer,R as jsonBodySerializer,$ as urlSearchParamsBodySerializer};//# sourceMappingURL=index.js.map\n//# sourceMappingURL=index.js.map","// This file is auto-generated by @hey-api/openapi-ts\r\n\r\nimport type { ClientOptions } from './types.gen';\r\nimport { type Config, type ClientOptions as DefaultClientOptions, createClient, createConfig } from '@hey-api/client-fetch';\r\n\r\n/**\r\n * The `createClientConfig()` function will be called on client initialization\r\n * and the returned object will become the client's initial configuration.\r\n *\r\n * You may want to initialize your client this way instead of calling\r\n * `setConfig()`. This is useful for example if you're using Next.js\r\n * to ensure your client always has the correct values.\r\n */\r\nexport type CreateClientConfig<T extends DefaultClientOptions = ClientOptions> = (override?: Config<DefaultClientOptions & T>) => Config<Required<DefaultClientOptions> & T>;\r\n\r\nexport const client = createClient(createConfig<ClientOptions>({\r\n    baseUrl: 'https://localhost:44389'\r\n}));","import {UmbControllerHostElement} from \"@umbraco-cms/backoffice/controller-api\";\nimport {UmbEntityActionArgs, UmbEntityActionBase} from \"@umbraco-cms/backoffice/entity-action\";\nimport {UMB_MODAL_MANAGER_CONTEXT, UmbModalManagerContext} from \"@umbraco-cms/backoffice/modal\";\nimport {UmbMemberDetailRepository} from '@umbraco-cms/backoffice/member';\nimport {MEMBER_IMPERSONATION_MODAL} from \"../modals/modal-token.ts\";\nimport {client} from \"../api/client.gen.ts\";\n\nexport class ImpersonateMember extends UmbEntityActionBase<UmbMemberDetailRepository> {\n  #token: () => Promise<string>;\n  #modalManagerContext?: UmbModalManagerContext;\n\n  constructor(host: UmbControllerHostElement, args: UmbEntityActionArgs<UmbMemberDetailRepository>) {\n    super(host, args)\n    this.consumeContext(UMB_MODAL_MANAGER_CONTEXT, (instance) => {\n      this.#modalManagerContext = instance;\n    });\n    var config = client.getConfig();\n    this.#token = config.auth as () => Promise<string>\n  }\n\n  async execute() {\n    const modal = this.#modalManagerContext?.open(this, MEMBER_IMPERSONATION_MODAL, {\n      data: {\n        headline: 'Impersonate',\n        content: 'Do you want to impersonate this user?',\n      }\n    });\n\n    await modal?.onSubmit().then(async (data) => {\n      return client.get({\n        url: '/umbraco/backoffice/impersonation/v1/impersonate/' + this.args.unique?.toString(),\n        headers: {\n          Authorization: 'Bearer ' + await this.#token()\n        },\n      })\n        .then(({response}) => {\n          if (response.ok) {\n            window.location.href = data.page ? data.page : '/';\n          }\n        })\n    }).catch(() => {\n      return;\n    });\n  }\n}\n","export const MemberSectionCondition = {\n  alias: 'Umb.Condition.SectionAlias',\n  match: 'Umb.Section.Members',\n}\n","//import the entity type for Member\r\nimport {UMB_MEMBER_ENTITY_TYPE} from \"@umbraco-cms/backoffice/member\";\r\n//import our entity action definition\r\nimport {ImpersonateMember} from \"./member.entity.action\";\r\nimport {MemberSectionCondition} from \"../Constants/member-section-condition.ts\";\r\n\r\nconst entityAction = {\r\n  type: 'entityAction',\r\n  kind: 'default',\r\n  alias: 'member.entity.action',\r\n  name: 'member action',\r\n  weight: 1,\r\n  forEntityTypes: [\r\n    UMB_MEMBER_ENTITY_TYPE\r\n  ],\r\n  api: ImpersonateMember,\r\n  meta: {\r\n    icon: 'icon-operator',\r\n    label: 'Impersonate...',\r\n  },\r\n  conditions: [\r\n    MemberSectionCondition\r\n  ]\r\n}\r\n\r\nexport const manifests = [entityAction];\r\n","import {UmbContextBase} from '@umbraco-cms/backoffice/class-api';\nimport {UmbContextToken} from \"@umbraco-cms/backoffice/context-api\";\nimport {UmbControllerHost} from \"@umbraco-cms/backoffice/controller-api\";\nimport {client} from \"../api/client.gen.ts\";\nimport {DomainsResponseModel, PagedDocumentTreeItemResponseModel} from \"@umbraco-cms/backoffice/external/backend-api\";\nimport {UmbBasicState} from \"@umbraco-cms/backoffice/observable-api\";\nimport {RootDomains} from \"../types/types.ts\";\n\n\nexport class RootContext extends UmbContextBase<RootContext> {\n  #rootItems = new UmbBasicState({} as RootDomains[]);\n  readonly rootItems = this.#rootItems.asObservable();\n  #token: () => Promise<string>;\n\n  constructor(host: UmbControllerHost) {\n    super(host, ROOT_CONTEXT);\n    var config = client.getConfig();\n    this.#token = config.auth as () => Promise<string>\n    this.fetch();\n  }\n\n  async fetch() {\n    const rootItems = await this.fetchRoot();\n    for (const item of rootItems) {\n      item.domains = await this.fetchDomains(item.id);\n    }\n    this.#rootItems.setValue(rootItems);\n  }\n\n  private async fetchDomains(rootId: string) {\n    const {data, error}: { data?: DomainsResponseModel, error?: any } = await client.get({\n      url: '/umbraco/management/api/v1/document/' + rootId + '/domains', headers: {\n        Authorization: 'Bearer ' + await this.#token()\n      }\n    });\n\n    if (error) {\n      console.error('There was a problem with the fetch operation:', error);\n    } else {\n      if (data?.domains) {\n        return data\n      }\n    }\n  }\n\n  private async fetchRoot(): Promise<RootDomains[]> {\n    const {data, error}: { data?: PagedDocumentTreeItemResponseModel, error?: any } = await client.get({\n      url: '/umbraco/management/api/v1/tree/document/root', headers: {\n        Authorization: 'Bearer ' + await this.#token()\n      }\n    });\n\n    if (error) {\n      console.error('There was a problem with the fetch operation:', error);\n    } else {\n      if (data?.total && data.total > 0) {\n        return data.items\n      }\n    }\n\n    return [];\n  }\n}\n\nexport const ROOT_CONTEXT = new UmbContextToken<RootContext>(\n  \"UmbWorkspaceContext\",\n  'RootContext',\n);\n\n","import {RootContext} from \"./root-context.ts\";\nimport {MemberSectionCondition} from \"../Constants/member-section-condition.ts\";\n\nconst context = {\n  type: 'workspaceContext',\n  alias: 'Root.Context',\n  name: 'Root Context',\n  api: RootContext,\n  conditions: [\n    MemberSectionCondition\n  ]\n}\n\nexport const manifests = [context];\n","import {manifests as entrypoints} from \"./entrypoints/manifest.js\";\r\nimport {manifests as modals} from \"./modals/manifest.js\";\r\nimport {manifests as entityActions} from \"./entityactions/manifest.js\";\r\nimport {manifests as contexts} from \"./context/manifest.js\";\r\n\r\n// Job of the bundle is to collate all the manifests from different parts of the extension and load other manifests\r\n// We load this bundle from umbraco-package.json\r\nexport const manifests: Array<UmbExtensionManifest> = [\r\n  ...modals,\r\n  ...entityActions,\r\n  ...contexts,\r\n  ...entrypoints\r\n];\r\n"],"names":["manifests","modals","MEMBER_IMPERSONATION_MODAL","UmbModalToken","j","R","U","_","D","O","i","a","n","o","s","y","q","f","p","H","B","A","l","P","_a","e","E","S","W","x","C","h","__publicField","r","v","N","Q","w","J","T","m","b","g","d","client","createClient","createConfig","ImpersonateMember","UmbEntityActionBase","host","args","__privateAdd","_token","_modalManagerContext","UMB_MODAL_MANAGER_CONTEXT","instance","__privateSet","config","modal","__privateGet","data","response","MemberSectionCondition","entityAction","UMB_MEMBER_ENTITY_TYPE","RootContext","UmbContextBase","ROOT_CONTEXT","_rootItems","UmbBasicState","rootItems","item","rootId","error","UmbContextToken","context","entityActions","contexts","entrypoints"],"mappings":";;;;;;;;;;;;;AAAO,MAAMA,IAAyC;AAAA,EACpD;AAAA,IACE,MAAM;AAAA,IACN,OAAO;AAAA,IACP,MAAM;AAAA,IACN,IAAI,MAAM,OAAO,0BAAiB;AAAA,EAAA;AAEtC,GCPMC,IAAS;AAAA,EACb;AAAA,IACE,MAAM;AAAA,IACN,OAAO;AAAA,IACP,MAAM;AAAA,IACN,IAAI,MAAM,OAAO,6BAAoB;AAAA,EAAA;AAEzC,GAEaD,IAAY,CAAC,GAAGC,CAAM,GCGtBC,IAA6B,IAAIC;AAAA,EAC5C;AAAA,EACA;AAAA,IACE,OAAO;AAAA,MACL,MAAM;AAAA,MACN,MAAM;AAAA,IAAA;AAAA,EACR;AAEJ;ACpBG,IAACC,IAAE,OAAM,GAAE,MAAI;AAAC,MAAI,IAAE,OAAO,KAAG,aAAW,MAAM,EAAE,CAAC,IAAE;AAAE,MAAG,EAAE,QAAO,EAAE,WAAS,WAAS,UAAU,CAAC,KAAG,EAAE,WAAS,UAAQ,SAAS,KAAK,CAAC,CAAC,KAAG;AAAC,GAAsUC,IAAE,EAAC,gBAAe,OAAG,KAAK,UAAU,GAAE,CAAC,GAAE,MAAI,OAAO,KAAG,WAAS,EAAE,SAAQ,IAAG,CAAC,EAAC,GAA2KC,KAAE,OAAG;AAAC,UAAO,GAAC;AAAA,IAAE,KAAK;AAAQ,aAAO;AAAA,IAAI,KAAK;AAAS,aAAO;AAAA,IAAI,KAAK;AAAS,aAAO;AAAA,IAAI;AAAQ,aAAO;AAAA,EAAG;AAAC,GAAEC,KAAE,OAAG;AAAC,UAAO,GAAC;AAAA,IAAE,KAAK;AAAO,aAAO;AAAA,IAAI,KAAK;AAAgB,aAAO;AAAA,IAAI,KAAK;AAAiB,aAAO;AAAA,IAAM;AAAQ,aAAO;AAAA,EAAG;AAAC,GAAEC,KAAE,OAAG;AAAC,UAAO,GAAC;AAAA,IAAE,KAAK;AAAQ,aAAO;AAAA,IAAI,KAAK;AAAS,aAAO;AAAA,IAAI,KAAK;AAAS,aAAO;AAAA,IAAI;AAAQ,aAAO;AAAA,EAAG;AAAC,GAAEC,IAAE,CAAC,EAAC,eAAc,GAAE,SAAQ,GAAE,MAAK,GAAE,OAAMC,GAAE,OAAMC,EAAC,MAAI;AAAC,MAAG,CAAC,GAAE;AAAC,QAAIC,KAAG,IAAED,IAAEA,EAAE,IAAI,OAAG,mBAAmB,CAAC,CAAC,GAAG,KAAKJ,GAAEG,CAAC,CAAC;AAAE,YAAOA,GAAC;AAAA,MAAE,KAAK;AAAQ,eAAO,IAAIE,CAAC;AAAA,MAAG,KAAK;AAAS,eAAO,IAAI,CAAC,IAAIA,CAAC;AAAA,MAAG,KAAK;AAAS,eAAOA;AAAA,MAAE;AAAQ,eAAO,GAAG,CAAC,IAAIA,CAAC;AAAA,IAAE;AAAA,EAAC;AAAC,MAAIC,IAAEP,GAAEI,CAAC,GAAEI,IAAEH,EAAE,IAAI,CAAAC,MAAGF,MAAI,WAASA,MAAI,WAAS,IAAEE,IAAE,mBAAmBA,CAAC,IAAEG,EAAE,EAAC,eAAc,GAAE,MAAK,GAAE,OAAMH,EAAC,CAAC,CAAC,EAAE,KAAKC,CAAC;AAAE,SAAOH,MAAI,WAASA,MAAI,WAASG,IAAEC,IAAEA;AAAC,GAAEC,IAAE,CAAC,EAAC,eAAc,GAAE,MAAK,GAAE,OAAM,EAAC,MAAI;AAAC,MAAG,KAAG,KAAK,QAAO;AAAG,MAAG,OAAO,KAAG,SAAS,OAAM,IAAI,MAAM,sGAA2G;AAAE,SAAO,GAAG,CAAC,IAAI,IAAE,IAAE,mBAAmB,CAAC,CAAC;AAAE,GAAEC,IAAE,CAAC,EAAC,eAAc,GAAE,SAAQ,GAAE,MAAK,GAAE,OAAMN,GAAE,OAAMC,EAAC,MAAI;AAAC,MAAGA,aAAa,KAAK,QAAO,GAAG,CAAC,IAAIA,EAAE,YAAW,CAAE;AAAG,MAAGD,MAAI,gBAAc,CAAC,GAAE;AAAC,QAAIE,IAAE,CAAA;AAAG,WAAO,QAAQD,CAAC,EAAE,QAAQ,CAAC,CAACM,GAAEC,CAAC,MAAI;AAAC,MAAAN,IAAE,CAAC,GAAGA,GAAEK,GAAE,IAAEC,IAAE,mBAAmBA,CAAC,CAAC;AAAA,IAAE,CAAC;AAAE,QAAI,IAAEN,EAAE,KAAK,GAAG;AAAE,YAAOF,GAAC;AAAA,MAAE,KAAK;AAAO,eAAO,GAAG,CAAC,IAAI,CAAC;AAAA,MAAG,KAAK;AAAQ,eAAO,IAAI,CAAC;AAAA,MAAG,KAAK;AAAS,eAAO,IAAI,CAAC,IAAI,CAAC;AAAA,MAAG;AAAQ,eAAO;AAAA,IAAC;AAAA,EAAC;AAAC,MAAIG,IAAEL,GAAEE,CAAC,GAAEI,IAAE,OAAO,QAAQH,CAAC,EAAE,IAAI,CAAC,CAACC,GAAE,CAAC,MAAIG,EAAE,EAAC,eAAc,GAAE,MAAKL,MAAI,eAAa,GAAG,CAAC,IAAIE,CAAC,MAAIA,GAAE,OAAM,EAAC,CAAC,CAAC,EAAE,KAAKC,CAAC;AAAE,SAAOH,MAAI,WAASA,MAAI,WAASG,IAAEC,IAAEA;AAAC,GAAMK,KAAE,eAAcC,KAAE,CAAC,EAAC,MAAK,GAAE,KAAI,EAAC,MAAI;AAAC,MAAI,IAAE,GAAEV,IAAE,EAAE,MAAMS,EAAC;AAAE,MAAGT,EAAE,UAAQC,KAAKD,GAAE;AAAC,QAAIG,IAAE,IAAMC,IAAEH,EAAE,UAAU,GAAEA,EAAE,SAAO,CAAC,GAAEC,IAAE;AAAS,IAAAE,EAAE,SAAS,GAAG,MAAID,IAAE,IAAKC,IAAEA,EAAE,UAAU,GAAEA,EAAE,SAAO,CAAC,IAAGA,EAAE,WAAW,GAAG,KAAGA,IAAEA,EAAE,UAAU,CAAC,GAAEF,IAAE,WAASE,EAAE,WAAW,GAAG,MAAIA,IAAEA,EAAE,UAAU,CAAC,GAAEF,IAAE;AAAU,QAAI,IAAE,EAAEE,CAAC;AAAE,QAAG,KAAG,KAAK;AAAS,QAAG,MAAM,QAAQ,CAAC,GAAE;AAAC,UAAE,EAAE,QAAQH,GAAEF,EAAE,EAAC,SAAQI,GAAE,MAAKC,GAAE,OAAMF,GAAE,OAAM,EAAC,CAAC,CAAC;AAAE;AAAA,IAAQ;AAAC,QAAG,OAAO,KAAG,UAAS;AAAC,UAAE,EAAE,QAAQD,GAAEK,EAAE,EAAC,SAAQH,GAAE,MAAKC,GAAE,OAAMF,GAAE,OAAM,EAAC,CAAC,CAAC;AAAE;AAAA,IAAQ;AAAC,QAAGA,MAAI,UAAS;AAAC,UAAE,EAAE,QAAQD,GAAE,IAAII,EAAE,EAAC,MAAKD,GAAE,OAAM,EAAC,CAAC,CAAC,EAAE;AAAE;AAAA,IAAQ;AAAC,QAAIG,IAAE,mBAAmBL,MAAI,UAAQ,IAAI,CAAC,KAAG,CAAC;AAAE,QAAE,EAAE,QAAQD,GAAEM,CAAC;AAAA,EAAE;AAAC,SAAO;AAAC,GAAEI,IAAE,CAAC,EAAC,eAAc,GAAE,OAAM,GAAE,QAAO,EAAC,IAAE,CAAA,MAAK,CAAAV,MAAG;AAAC,MAAIE,IAAE,CAAA;AAAG,MAAGF,KAAG,OAAOA,KAAG,SAAS,UAAQG,KAAKH,GAAE;AAAC,QAAIC,IAAED,EAAEG,CAAC;AAAE,QAAGF,KAAG,KAAK,KAAG,MAAM,QAAQA,CAAC,GAAE;AAAC,UAAIU,IAAEb,EAAE,EAAC,eAAc,GAAE,SAAQ,IAAK,MAAKK,GAAE,OAAM,QAAO,OAAMF,GAAE,GAAG,EAAC,CAAC;AAAE,MAAAU,KAAGT,EAAE,KAAKS,CAAC;AAAA,IAAE,WAAS,OAAOV,KAAG,UAAS;AAAC,UAAIU,IAAEN,EAAE,EAAC,eAAc,GAAE,SAAQ,IAAK,MAAKF,GAAE,OAAM,cAAa,OAAMF,GAAE,GAAG,EAAC,CAAC;AAAE,MAAAU,KAAGT,EAAE,KAAKS,CAAC;AAAA,IAAE,OAAM;AAAC,UAAIA,IAAEP,EAAE,EAAC,eAAc,GAAE,MAAKD,GAAE,OAAMF,EAAC,CAAC;AAAE,MAAAU,KAAGT,EAAE,KAAKS,CAAC;AAAA,IAAE;AAAA,EAAC;AAAC,SAAOT,EAAE,KAAK,GAAG;AAAC,GAAEU,KAAE,OAAG;;AAAC,MAAG,CAAC,EAAE,QAAO;AAAS,MAAI,KAAEC,IAAA,EAAE,MAAM,GAAG,EAAE,CAAC,MAAd,gBAAAA,EAAiB;AAAO,MAAG,GAAE;AAAC,QAAG,EAAE,WAAW,kBAAkB,KAAG,EAAE,SAAS,OAAO,EAAE,QAAO;AAAO,QAAG,MAAI,sBAAsB,QAAO;AAAW,QAAG,CAAC,gBAAe,UAAS,UAAS,QAAQ,EAAE,KAAK,CAAAC,MAAG,EAAE,WAAWA,CAAC,CAAC,EAAE,QAAO;AAAO,QAAG,EAAE,WAAW,OAAO,EAAE,QAAO;AAAA,EAAM;AAAC,GAAEC,KAAE,OAAM,EAAC,UAAS,GAAE,GAAG,EAAC,MAAI;AAAC,WAAQ,KAAK,GAAE;AAAC,QAAIhB,IAAE,MAAMN,EAAE,GAAE,EAAE,IAAI;AAAE,QAAG,CAACM,EAAE;AAAS,QAAIC,IAAE,EAAE,QAAM;AAAgB,YAAO,EAAE,IAAE;AAAA,MAAE,KAAK;AAAQ,UAAE,UAAQ,EAAE,QAAM,CAAA,IAAI,EAAE,MAAMA,CAAC,IAAED;AAAE;AAAA,MAAM,KAAK;AAAS,UAAE,QAAQ,OAAO,UAAS,GAAGC,CAAC,IAAID,CAAC,EAAE;AAAE;AAAA,MAAM,KAAK;AAAA,MAAS;AAAQ,UAAE,QAAQ,IAAIC,GAAED,CAAC;AAAE;AAAA,IAAK;AAAC;AAAA,EAAM;AAAC,GAAEiB,IAAE,OAAGC,GAAE,EAAC,SAAQ,EAAE,SAAQ,MAAK,EAAE,MAAK,OAAM,EAAE,OAAM,iBAAgB,OAAO,EAAE,mBAAiB,aAAW,EAAE,kBAAgBP,EAAE,EAAE,eAAe,GAAE,KAAI,EAAE,IAAG,CAAC,GAAEO,KAAE,CAAC,EAAC,SAAQ,GAAE,MAAK,GAAE,OAAM,GAAE,iBAAgBlB,GAAE,KAAIC,EAAC,MAAI;AAAC,MAAIE,IAAEF,EAAE,WAAW,GAAG,IAAEA,IAAE,IAAIA,CAAC,IAAGG,KAAG,KAAG,MAAID;AAAE,QAAIC,IAAEM,GAAE,EAAC,MAAK,GAAE,KAAIN,EAAC,CAAC;AAAG,MAAIF,IAAE,IAAEF,EAAE,CAAC,IAAE;AAAG,SAAOE,EAAE,WAAW,GAAG,MAAIA,IAAEA,EAAE,UAAU,CAAC,IAAGA,MAAIE,KAAG,IAAIF,CAAC,KAAIE;AAAC,GAAEe,IAAE,CAAC,GAAE,MAAI;;AAAC,MAAI,IAAE,EAAC,GAAG,GAAE,GAAG,EAAC;AAAE,UAAOL,IAAA,EAAE,YAAF,QAAAA,EAAW,SAAS,SAAO,EAAE,UAAQ,EAAE,QAAQ,UAAU,GAAE,EAAE,QAAQ,SAAO,CAAC,IAAG,EAAE,UAAQM,EAAE,EAAE,SAAQ,EAAE,OAAO,GAAE;AAAC,GAAEA,IAAE,IAAI,MAAI;AAAC,MAAI,IAAE,IAAI;AAAQ,WAAQ,KAAK,GAAE;AAAC,QAAG,CAAC,KAAG,OAAO,KAAG,SAAS;AAAS,QAAIpB,IAAE,aAAa,UAAQ,EAAE,YAAU,OAAO,QAAQ,CAAC;AAAE,aAAO,CAACC,GAAEE,CAAC,KAAIH,EAAE,KAAGG,MAAI,KAAK,GAAE,OAAOF,CAAC;AAAA,aAAU,MAAM,QAAQE,CAAC,EAAE,UAAQC,KAAKD,EAAE,GAAE,OAAOF,GAAEG,CAAC;AAAA,QAAO,CAAAD,MAAI,UAAQ,EAAE,IAAIF,GAAE,OAAOE,KAAG,WAAS,KAAK,UAAUA,CAAC,IAAEA,CAAC;AAAA,EAAE;AAAC,SAAO;AAAC,GAAEkB,IAAE,MAAK;AAAA,EAAM,cAAa;AAAlB,IAAAC,EAAA;AAAmB,SAAK,OAAK,CAAA;AAAA,EAAG;AAAA,EAAC,QAAO;AAAC,SAAK,OAAK,CAAA;AAAA,EAAG;AAAA,EAAC,oBAAoBC,GAAE;AAAC,WAAO,OAAOA,KAAG,WAAS,KAAK,KAAKA,CAAC,IAAEA,IAAE,KAAG,KAAK,KAAK,QAAQA,CAAC;AAAA,EAAC;AAAA,EAAC,OAAOA,GAAE;AAAC,QAAIR,IAAE,KAAK,oBAAoBQ,CAAC;AAAE,WAAO,CAAC,CAAC,KAAK,KAAKR,CAAC;AAAA,EAAC;AAAA,EAAC,MAAMQ,GAAE;AAAC,QAAIR,IAAE,KAAK,oBAAoBQ,CAAC;AAAE,SAAK,KAAKR,CAAC,MAAI,KAAK,KAAKA,CAAC,IAAE;AAAA,EAAM;AAAA,EAAC,OAAOQ,GAAER,GAAE;AAAC,QAAIf,IAAE,KAAK,oBAAoBuB,CAAC;AAAE,WAAO,KAAK,KAAKvB,CAAC,KAAG,KAAK,KAAKA,CAAC,IAAEe,GAAEQ,KAAG;AAAA,EAAK;AAAA,EAAC,IAAIA,GAAE;AAAC,WAAO,KAAK,OAAK,CAAC,GAAG,KAAK,MAAKA,CAAC,GAAE,KAAK,KAAK,SAAO;AAAA,EAAC;AAAC,GAAEC,KAAE,OAAK,EAAC,OAAM,IAAIH,KAAE,SAAQ,IAAIA,KAAE,UAAS,IAAIA,IAAC,IAAGI,KAAEd,EAAE,EAAC,eAAc,IAAM,OAAM,EAAC,SAAQ,IAAK,OAAM,OAAM,GAAE,QAAO,EAAC,SAAQ,IAAK,OAAM,aAAY,EAAC,CAAC,GAAEe,KAAE,EAAC,gBAAe,mBAAkB,GAAEC,IAAE,CAAC,IAAE,CAAA,OAAM,EAAC,GAAGhC,GAAE,SAAQ+B,IAAE,SAAQ,QAAO,iBAAgBD,IAAE,GAAG,EAAC,IAAOG,KAAE,CAAC,IAAE,CAAA,MAAK;AAAC,MAAI,IAAET,EAAEQ,EAAC,GAAG,CAAC,GAAE,IAAE,OAAK,EAAC,GAAG,EAAC,IAAG3B,IAAE,CAAAI,OAAI,IAAEe,EAAE,GAAEf,CAAC,GAAE,EAAC,IAAIH,IAAEuB,GAAC,GAAGrB,IAAE,OAAMC,MAAG;AAAC,QAAIF,IAAE,EAAC,GAAG,GAAE,GAAGE,GAAE,OAAMA,EAAE,SAAO,EAAE,SAAO,WAAW,OAAM,SAAQgB,EAAE,EAAE,SAAQhB,EAAE,OAAO,EAAC;AAAE,IAAAF,EAAE,YAAU,MAAMc,GAAE,EAAC,GAAGd,GAAE,UAASA,EAAE,SAAQ,CAAC,GAAEA,EAAE,QAAMA,EAAE,mBAAiBA,EAAE,OAAKA,EAAE,eAAeA,EAAE,IAAI,KAAIA,EAAE,SAAO,UAAQA,EAAE,SAAO,OAAKA,EAAE,QAAQ,OAAO,cAAc;AAAE,QAAI,IAAEe,EAAEf,CAAC,GAAEK,IAAE,EAAC,UAAS,UAAS,GAAGL,EAAC,GAAEM,IAAE,IAAI,QAAQ,GAAED,CAAC;AAAE,aAAQ,KAAKN,EAAE,QAAQ,KAAK,OAAIO,IAAE,MAAM,EAAEA,GAAEN,CAAC;AAAG,QAAI2B,IAAE3B,EAAE,OAAM,IAAE,MAAM2B,EAAErB,CAAC;AAAE,aAAQ,KAAKP,EAAE,SAAS,KAAK,OAAI,IAAE,MAAM,EAAE,GAAEO,GAAEN,CAAC;AAAG,QAAI4B,IAAE,EAAC,SAAQtB,GAAE,UAAS,EAAC;AAAE,QAAG,EAAE,IAAG;AAAC,UAAG,EAAE,WAAS,OAAK,EAAE,QAAQ,IAAI,gBAAgB,MAAI,IAAI,QAAO,EAAC,MAAK,IAAG,GAAGsB,EAAC;AAAE,UAAI,KAAG5B,EAAE,YAAU,SAAOW,GAAE,EAAE,QAAQ,IAAI,cAAc,CAAC,IAAEX,EAAE,YAAU;AAAO,UAAG,MAAI,SAAS,QAAO,EAAC,MAAK,EAAE,MAAK,GAAG4B,EAAC;AAAE,UAAIC,IAAE,MAAM,EAAE,CAAC,EAAC;AAAG,aAAO,MAAI,WAAS7B,EAAE,qBAAmB,MAAMA,EAAE,kBAAkB6B,CAAC,GAAE7B,EAAE,wBAAsB6B,IAAE,MAAM7B,EAAE,oBAAoB6B,CAAC,KAAI,EAAC,MAAKA,GAAE,GAAGD,EAAC;AAAA,IAAC;AAAC,QAAIE,IAAE,MAAM,EAAE,KAAI;AAAG,QAAG;AAAC,MAAAA,IAAE,KAAK,MAAMA,CAAC;AAAA,IAAE,QAAM;AAAA,IAAA;AAAE,QAAIC,IAAED;AAAE,aAAQ,KAAK/B,EAAE,MAAM,KAAK,OAAIgC,IAAE,MAAM,EAAED,GAAE,GAAExB,GAAEN,CAAC;AAAG,QAAG+B,IAAEA,KAAG,CAAA,GAAG/B,EAAE,aAAa,OAAM+B;AAAE,WAAO,EAAC,OAAMA,GAAE,GAAGH,EAAC;AAAA,EAAC;AAAE,SAAO,EAAC,UAASb,GAAE,SAAQ,CAAAb,MAAGD,EAAE,EAAC,GAAGC,GAAE,QAAO,UAAS,CAAC,GAAE,QAAO,CAAAA,MAAGD,EAAE,EAAC,GAAGC,GAAE,QAAO,SAAQ,CAAC,GAAE,KAAI,CAAAA,MAAGD,EAAE,EAAC,GAAGC,GAAE,QAAO,MAAK,CAAC,GAAE,WAAU,GAAE,MAAK,CAAAA,MAAGD,EAAE,EAAC,GAAGC,GAAE,QAAO,OAAM,CAAC,GAAE,cAAaH,GAAE,SAAQ,CAAAG,MAAGD,EAAE,EAAC,GAAGC,GAAE,QAAO,UAAS,CAAC,GAAE,OAAM,CAAAA,MAAGD,EAAE,EAAC,GAAGC,GAAE,QAAO,QAAO,CAAC,GAAE,MAAK,CAAAA,MAAGD,EAAE,EAAC,GAAGC,GAAE,QAAO,OAAM,CAAC,GAAE,KAAI,CAAAA,MAAGD,EAAE,EAAC,GAAGC,GAAE,QAAO,MAAK,CAAC,GAAE,SAAQD,GAAE,WAAUH,GAAE,OAAM,CAAAI,MAAGD,EAAE,EAAC,GAAGC,GAAE,QAAO,QAAO,CAAC,EAAC;AAAC;ACexuN,MAAM8B,IAASC,GAAaC,EAA4B;AAAA,EAC3D,SAAS;AACb,CAAC,CAAC;;ACVK,MAAMC,WAA0BC,EAA+C;AAAA,EAIpF,YAAYC,GAAgCC,GAAsD;AAChG,UAAMD,GAAMC,CAAI;AAJlB,IAAAC,EAAA,MAAAC;AACA,IAAAD,EAAA,MAAAE;AAIE,SAAK,eAAeC,GAA2B,CAACC,MAAa;AAC3D,MAAAC,EAAA,MAAKH,GAAuBE;AAAA,IAAA,CAC7B;AACD,QAAIE,IAASb,EAAO,UAAA;AACpB,IAAAY,EAAA,MAAKJ,GAASK,EAAO;AAAA,EAAA;AAAA,EAGvB,MAAM,UAAU;;AACd,UAAMC,KAAQlC,IAAAmC,EAAA,MAAKN,OAAL,gBAAA7B,EAA2B,KAAK,MAAMtB,GAA4B;AAAA,MAC9E,MAAM;AAAA,QACJ,UAAU;AAAA,QACV,SAAS;AAAA,MAAA;AAAA,IACX;AAGF,WAAMwD,KAAA,gBAAAA,EAAO,WAAW,KAAK,OAAOE,MAAS;;AAC3C,aAAOhB,EAAO,IAAI;AAAA,QAChB,KAAK,wDAAsDpB,IAAA,KAAK,KAAK,WAAV,gBAAAA,EAAkB;AAAA,QAC7E,SAAS;AAAA,UACP,eAAe,YAAY,MAAMmC,EAAA,MAAKP,GAAL;AAAA,QAAY;AAAA,MAC/C,CACD,EACE,KAAK,CAAC,EAAC,UAAAS,QAAc;AACpB,QAAIA,EAAS,OACX,OAAO,SAAS,OAAOD,EAAK,OAAOA,EAAK,OAAO;AAAA,MACjD,CACD;AAAA,IAAA,GACF,MAAM,MAAM;AAAA,IACb;AAAA,EACD;AAEL;AApCER,IAAA,eACAC,IAAA;ACTK,MAAMS,IAAyB;AAAA,EACpC,OAAO;AAAA,EACP,OAAO;AACT,GCGMC,KAAe;AAAA,EACnB,MAAM;AAAA,EACN,MAAM;AAAA,EACN,OAAO;AAAA,EACP,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,gBAAgB;AAAA,IACdC;AAAA,EAAA;AAAA,EAEF,KAAKjB;AAAA,EACL,MAAM;AAAA,IACJ,MAAM;AAAA,IACN,OAAO;AAAA,EAAA;AAAA,EAET,YAAY;AAAA,IACVe;AAAA,EAAA;AAEJ,GAEa9D,KAAY,CAAC+D,EAAY;;AChB/B,MAAME,WAAoBC,EAA4B;AAAA,EAK3D,YAAYjB,GAAyB;AACnC,UAAMA,GAAMkB,EAAY;AAL1B,IAAAhB,EAAA,MAAAiB;AAEA,IAAAjB,EAAA,MAAAC;AAFA,IAAAI,EAAA,MAAAY,GAAa,IAAIC,EAAc,EAAmB,IAClD,KAAS,YAAYV,EAAA,MAAKS,GAAW,aAAA;AAKnC,QAAIX,IAASb,EAAO,UAAA;AACpB,IAAAY,EAAA,MAAKJ,GAASK,EAAO,OACrB,KAAK,MAAA;AAAA,EAAM;AAAA,EAGb,MAAM,QAAQ;AACZ,UAAMa,IAAY,MAAM,KAAK,UAAA;AAC7B,eAAWC,KAAQD;AACjB,MAAAC,EAAK,UAAU,MAAM,KAAK,aAAaA,EAAK,EAAE;AAEhD,IAAAZ,EAAA,MAAKS,GAAW,SAASE,CAAS;AAAA,EAAA;AAAA,EAGpC,MAAc,aAAaE,GAAgB;AACzC,UAAM,EAAC,MAAAZ,GAAM,OAAAa,EAAA,IAAuD,MAAM7B,EAAO,IAAI;AAAA,MACnF,KAAK,yCAAyC4B,IAAS;AAAA,MAAY,SAAS;AAAA,QAC1E,eAAe,YAAY,MAAMb,EAAA,MAAKP,GAAL;AAAA,MAAY;AAAA,IAC/C,CACD;AAED,QAAIqB;AACF,cAAQ,MAAM,iDAAiDA,CAAK;AAAA,aAEhEb,KAAA,QAAAA,EAAM;AACR,aAAOA;AAAA,EAEX;AAAA,EAGF,MAAc,YAAoC;AAChD,UAAM,EAAC,MAAAA,GAAM,OAAAa,EAAA,IAAqE,MAAM7B,EAAO,IAAI;AAAA,MACjG,KAAK;AAAA,MAAiD,SAAS;AAAA,QAC7D,eAAe,YAAY,MAAMe,EAAA,MAAKP,GAAL;AAAA,MAAY;AAAA,IAC/C,CACD;AAED,QAAIqB;AACF,cAAQ,MAAM,iDAAiDA,CAAK;AAAA,aAEhEb,KAAA,QAAAA,EAAM,SAASA,EAAK,QAAQ;AAC9B,aAAOA,EAAK;AAIhB,WAAO,CAAA;AAAA,EAAC;AAEZ;AApDEQ,IAAA,eAEAhB,IAAA;AAoDK,MAAMe,KAAe,IAAIO;AAAA,EAC9B;AAAA,EACA;AACF,GChEMC,KAAU;AAAA,EACd,MAAM;AAAA,EACN,OAAO;AAAA,EACP,MAAM;AAAA,EACN,KAAKV;AAAA,EACL,YAAY;AAAA,IACVH;AAAA,EAAA;AAEJ,GAEa9D,KAAY,CAAC2E,EAAO,GCNpB3E,KAAyC;AAAA,EACpD,GAAGC;AAAAA,EACH,GAAG2E;AAAAA,EACH,GAAGC;AAAAA,EACH,GAAGC;AACL;","x_google_ignoreList":[3]}