{"version":3,"file":"modal-element-BJkGlHbr.js","sources":["../../../Client/src/modals/modal-element.ts"],"sourcesContent":["import {customElement, html, state} from \"@umbraco-cms/backoffice/external/lit\";\nimport {UmbModalBaseElement} from \"@umbraco-cms/backoffice/modal\";\nimport {MemberImpersonationModalData, MemberImpersonationModalValue} from \"./modal-token\";\nimport {ROOT_CONTEXT} from \"../context/root-context.ts\";\nimport {DocumentTreeItemResponseModel} from \"@umbraco-cms/backoffice/external/backend-api\";\n\n@customElement('member-custom-modal')\nexport class MemberCustomModalElement extends UmbModalBaseElement<MemberImpersonationModalData, MemberImpersonationModalValue> {\n  @state()\n  content: string = '';\n  #rootContext?: typeof ROOT_CONTEXT.TYPE;\n  @state()\n  private rootItems: DocumentTreeItemResponseModel[] = [];\n\n  constructor() {\n    super();\n    this.consumeContext(ROOT_CONTEXT, (context) => {\n      this.#rootContext = context;\n      this.observe(this.#rootContext.rootItems, (items) => {\n        this.rootItems = items;\n      })\n    })\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback();\n  }\n\n  render() {\n    const selectOptions = this.rootItems.map(item => ({name: item.variants[0]?.name, value: item.id, selected: false}));\n\n    if (selectOptions[0] != undefined) {\n      selectOptions[0].selected = true;\n    }\n\n    return html`\n      <umb-body-layout headline=${this.data?.headline ?? 'Custom dialog'}>\n        <uui-box>\n          <h3>${this.data?.content}</h3>\n        </uui-box>\n        <uui-box>\n          <uui-select\n            label=\"Select destination\"\n            .options=${selectOptions}>\n          </uui-select>\n        </uui-box>\n        <uui-box>\n          <uui-button\n            id=\"submit\"\n            color='positive'\n            look=\"primary\"\n            label=\"Impersonate\"\n            @click=${this.#handleConfirm}></uui-button>\n        </uui-box>\n        <div slot=\"actions\">\n          <uui-button id=\"cancel\" label=\"Cancel\" @click=\"${this.#handleCancel}\">Cancel</uui-button>\n        </div>\n      </umb-body-layout>\n    `;\n  }\n\n  #handleConfirm() {\n    this.modalContext?.submit();\n  }\n\n  #handleCancel() {\n    this.modalContext?.reject();\n  }\n}\n\nexport default MemberCustomModalElement;\n"],"names":["_rootContext","_MemberCustomModalElement_instances","handleConfirm_fn","handleCancel_fn","MemberCustomModalElement","UmbModalBaseElement","__privateAdd","ROOT_CONTEXT","context","__privateSet","__privateGet","items","selectOptions","item","_a","html","_b","__privateMethod","__decorateClass","state","customElement","MemberCustomModalElement$1"],"mappings":";;;;;;;;;wYAAAA,GAAAC,GAAAC,GAAAC;AAOO,IAAMC,IAAN,cAAuCC,EAAiF;AAAA,EAO7H,cAAc;AACZ,UAAA,GARGC,EAAA,MAAAL,CAAA,GAEL,KAAA,UAAkB,IAClBK,EAAA,MAAAN,CAAA,GAEA,KAAQ,YAA6C,CAAA,GAInD,KAAK,eAAeO,GAAc,CAACC,MAAY;AAC7C,MAAAC,EAAA,MAAKT,GAAeQ,CAAA,GACpB,KAAK,QAAQE,EAAA,MAAKV,CAAA,EAAa,WAAW,CAACW,MAAU;AACnD,aAAK,YAAYA;AAAA,MAAA,CAClB;AAAA,IAAA,CACF;AAAA,EAAA;AAAA,EAGH,oBAA0B;AACxB,UAAM,kBAAA;AAAA,EAAkB;AAAA,EAG1B,SAAS;;AACP,UAAMC,IAAgB,KAAK,UAAU,IAAI,CAAAC,MAAA;;AAAS,eAAC,OAAMC,IAAAD,EAAK,SAAS,CAAC,MAAf,gBAAAC,EAAkB,MAAM,OAAOD,EAAK,IAAI,UAAU;KAAO;AAElH,WAAID,EAAc,CAAC,KAAK,SACtBA,EAAc,CAAC,EAAE,WAAW,KAGvBG;AAAA,oCACuBD,IAAA,KAAK,SAAL,gBAAAA,EAAW,aAAY,eAAe;AAAA;AAAA,iBAExDE,IAAA,KAAK,SAAL,gBAAAA,EAAW,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,uBAKXJ,CAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBASfK,QAAKhB,GAAAC,CAAA,CAAc;AAAA;AAAA;AAAA,2DAGmBe,QAAKhB,GAAAE,CAAA,CAAa;AAAA;AAAA;AAAA;AAAA,EAAA;AAa7E;AA1DEH,IAAA,oBAAA,QAAA;AAHKC,IAAA,oBAAA,QAAA;AAsDLC,IAAc,WAAG;;AACf,GAAAY,IAAA,KAAK,iBAAL,QAAAA,EAAmB;AACrB;AAEAX,IAAa,WAAG;;AACd,GAAAW,IAAA,KAAK,iBAAL,QAAAA,EAAmB;AACrB;AA1DAI,EAAA;AAAA,EADCC,EAAA;AAAM,GADIf,EAEX,WAAA,WAAA,CAAA;AAGQc,EAAA;AAAA,EADPC,EAAA;AAAM,GAJIf,EAKH,WAAA,aAAA,CAAA;AALGA,IAANc,EAAA;AAAA,EADNE,EAAc,qBAAqB;AAAA,GACvBhB,CAAA;AA+Db,MAAAiB,IAAejB;"}