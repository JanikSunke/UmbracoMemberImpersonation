{"version":3,"file":"entrypoint-_1PbN7RZ.js","sources":["../../../Client/src/entrypoints/entrypoint.ts"],"sourcesContent":["import type {UmbEntryPointOnInit, UmbEntryPointOnUnload,} from \"@umbraco-cms/backoffice/extension-api\";\nimport {UMB_AUTH_CONTEXT} from \"@umbraco-cms/backoffice/auth\";\nimport {client} from \"../api/client.gen.js\";\n\nexport const onInit: UmbEntryPointOnInit = (_host, _extensionRegistry) => {\n  console.log(\"Impersonation Client onInit\");\n  // Backoffice Authentication\n  _host.consumeContext(UMB_AUTH_CONTEXT, async (authContext) => {\n    const config = authContext?.getOpenApiConfiguration();\n\n    client.setConfig({\n      auth: config?.token ?? undefined,\n      baseUrl: config?.base ?? \"\",\n      credentials: config?.credentials ?? \"same-origin\",\n    });\n  });\n};\n\nexport const onUnload: UmbEntryPointOnUnload = (_host, _extensionRegistry) => {\n};\n"],"names":["onInit","_host","_extensionRegistry","UMB_AUTH_CONTEXT","authContext","config","client","onUnload"],"mappings":";;AAIO,MAAMA,IAA8B,CAACC,GAAOC,MAAuB;AACxE,UAAQ,IAAI,6BAA6B,GAEzCD,EAAM,eAAeE,GAAkB,OAAOC,MAAgB;AAC5D,UAAMC,IAASD,KAAA,gBAAAA,EAAa;AAE5B,IAAAE,EAAO,UAAU;AAAA,MACf,OAAMD,KAAA,gBAAAA,EAAQ,UAAS;AAAA,MACvB,UAASA,KAAA,gBAAAA,EAAQ,SAAQ;AAAA,MACzB,cAAaA,KAAA,gBAAAA,EAAQ,gBAAe;AAAA,IAAA,CACrC;AAAA,EAAA,CACF;AACH,GAEaE,IAAkC,CAACN,GAAOC,MAAuB;AAC9E;"}